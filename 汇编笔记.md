# 汇编笔记

**2023寒假简单学一点汇编知识**

## Chapter 1 主板和内存

### 主板

主板（Main Board，Mother Board，System Board）是微型机各种硬件的载体。微型机的CPU、内存及芯片组等部件都安装在一块电路板上，这块电路板称为主机板（主板）。

![image-20230102102419131](C:\Users\Administrator\Desktop\github repo\Learing_note\image\汇编\image-20230102102419131.png)



#### 主板结构

• AT、ATX和BTX三大类

• AT结构主要在早期的微型计算机中使用，目前已经被淘汰。AT结构的初始设计是让扩展总线以微处理器相同的时钟速率来运行。

• 扩展AT（Advanced Technology eXtended）主板结构，即ATX主板标准，取代了AT主板规格。

• BTX（Balanced Technology eXtended）是Intel公司2003年发布的新型主板架构，目标是取代ATX结构。新架构的发展目标是完全取消传统的串口、并口、PS/2等接口，并很好支持PCI Express和串行ATA等新技术。



#### 芯片组

• 芯片组（Chipset）是主板的核心组成部分

• 几乎决定了主板的全部功能

• 包括控制芯片组、主板BIOS芯片和CMOS芯片等





#### 控制芯片组

• 南北桥体系结构

• CPU+北桥+南桥的体系结构

• 内存控制器：北桥芯片

• I/O控制器：南桥芯片



#### 南北桥体系结构

![image-20230103084931553](C:\Users\Administrator\Desktop\github repo\Learing_note\image\汇编\image-20230103084931553.png)



**北桥芯片**

• 控制CPU、内存和图形加速器接口（AGP）等设备之间的数据传输

• 主板上靠近CPU插槽的位置。发热量一般较高，通常需要安装散热片

• 内存控制器中心（Memory Controller Hub，MCH）

• 前端总线FSB 由MCH提供，目前是64位

• 芯片组的名称就是以北桥芯片的名称来进行命名

• MCH芯片的类型决定着RAM的类型和容量

• 早期MCH提供的显卡接口是AGP（Accelerated Graphics Port）总线接口，但现在已被数据传输速率更快的PCI-E取代



**南桥芯片**

• I/O控制中心（I/O Controller Hub，ICH）

• 负责对I/O设备的读写控制和数据的传输处理，提供各种外部设备的接口来实现硬、软盘和光驱等设备之间的数据传输

• 一般在远离CPU插槽，靠近PCI槽的位置，这种布局是考虑到它所连接的I/O总线较多，离处理器远一点有利于布线

• IDE（Integrated Drive Electronics）控制器、USB（Universal Serial Bus）控制器、PCI控制器、音频控制器、SATA（Serial Advanced Technology Attachment）控制器和网络控制器、

DMA控制器、中断控制器、定时/计数器、实时时钟控制器RTC（Real-Time Clock）和CMOS RAM

• ICH10是最后一个版本→PCH平台控制器

• 支持6条PCI-E通道、4个主PCI接口、12个USB 2.0接口、并支持USB接口禁用功能，支持6个SATA 3Gbps接口



#### 单芯片组体系结构

• CPU+南桥的单芯片组体系结构

• 内存控制器、北桥芯片的其它部分包括GPU核心、PCI-E控制器等都被集成到CPU里面

![image-20230103092526668](C:\Users\Administrator\Desktop\github repo\Learing_note\image\汇编\image-20230103092526668.png)



#### BIOS及CMOS芯片

• BIOS（Basic Input/Output System，基本输入/输出系统）全称是ROM-BIOS，只读存储器基本输入输出系统

• 开机上电自检程序和系统启动自举程序、系统设置信息

• 早期的BIOS多为可重写EPROM芯片，现在多采用Flash ROM(可擦可编程只读存储器)

• CMOS芯片是电脑主板上的一块可读写的RAM芯片，用它来保存当前系统的硬件配置和用户对某些参数的设定。现在做到了BIOS芯片中

• CMOS电池



### 内存



#### 常用概念

**存储器容量**

• 存储器的容量以字节（byte）为单位，用大写字母B表示。

• 以字节编址，包含8个二进制位（bit）

• 二进制位用小写字母b表示。

• 在描述比较大的存储容量时，经常使用KB、MB、GB、TB等单位。



**内存地址及内容**

• 每个单元分配了一个唯一的地址，地址从0开始编号，顺序递增1



**字节、字、双字**

• 字节：字节是PC机中内存存取信息的基本单位，1个字节包含8个二进制位

• 字：1个字包含16个二进制位，即两个字节，分别称为高字节和低字节。

• 双字：1个双字包含32个二进制位



**存储器访问**

• 单字节数据访问

• 多字节数据访问

• 小端存储：低字节在前（Little Endian）的存储格式。即低地址中存放低字节数据，高地址中存放高字节数据

• 访问这些数据时只需给出最低单元的地址号



#### 单通道内存技术

• 单通道系统中，北桥芯片内部只有一个内存控制器，系统安装的多个内存条连接到同一个内存总线上。多个内存条相当于串行工作，一次只有一个内存条工作，内存条数目增多，只能增加容量，并不能增加带宽。

例子： 假定2条DDR 400内存条，工作在200MHz频率下，每个时钟可以传送2次64位数据，则单通道系统中内存总线的总带宽是多少？

200M×2×64÷8 = 6400MB/s = 3.2 GB/s



#### 双通道内存技术

• 芯片组有两个内存控制器，构成双通道内存总线（Dual Channel Memory Bus）

• 与内存本身无关，任何DDR内存都可工作在支持双通道技术的主板上

• 内存条利用并联方式运行，当连接两条内存时，总线宽度达到64×2=128位

• 双通道要求按主板上内存插槽的颜色成对使用，如双通道系统中安装两条2GB的内存比安装一条4GB的效果要好

例子：假定2条DDR 400内存条，工作在200MHz频率下，每个时钟可以

传送2次64位数据。双通道系统中内存总线的总带宽是多少？

 2×200M×2×64÷8 = 6400MB/s = 6.4GB/s



#### 三通道内存技术

• 随着Intel Core i7平台发布而出现，是双通道内存技术的后续技术发展

• 将同色的三根内存插槽插上内存即可，系统会自动识别，并进入三通道模式

• 如果插上非3或非6条的内存，如4根内存，系统会自动进入单通道模式。





### 接口与插槽

#### 主板插槽

• CPU插槽

• 接口方式有引脚式、卡式、触点式、针脚式

• 常见的CPU插槽类型可分为Slot架构和Socket架构两种

#### 内存插槽

• 早期的8位和16位SIMM(Single Inline Memory Module)内存模组使用30Pin接口

• 32位SIMM模组使用72Pin接口

• SDRAM开始使用DIMM结构的插槽

• SDRAM DIMM为168Pin DIMM结构，每面为84Pin，有两个卡口，

用来避免插入插槽时，错误将内存反向插入

• DDR DIMM则采用184Pin DIMM结构，每面有92Pin，只有一个卡口

• DDR2、DDR3 DIMM为240Pin DIMM结构，每面有120Pin

#### 电源插槽

• 有AT电源插座和ATX电源插座两种

• AT电源插座为12芯单列插座，目前已被淘汰

• ATX电源插座早期为D型20芯双列插座

• 从ATX 12V 2.0开始，电源接口从传统的20芯升级为24芯，多出的4芯主要是为解决功耗较大的PCI-E显卡供电问题

• CPU电源

• 4芯的+12V接插头，单独向处理器供电

• 服务器平台上由于对供电要求更高，很早引入了更强的8PIN 12V接口

#### PCI 插槽

• PCI（Peripheral Component Interconnect，外设部件互连总线）Intel公司1991年推出的用于定义局部总线的标准，支持即插即用

• 在CPU和原来的ISA总线之间插入的一级总线

• 工作频率一般为33MHz/66MHz，提供32位和64位两种位宽

• 33MHz下最大数据传输率为133MB/sec(32位)和266MB/sec(64位)

• 目前被PCI-E（PCI Express）逐步取代

#### PCI-E插槽

• 完全兼容PCI

• 较短的PCI-E卡可以插入较长的PCI-E插槽中使用，支持热拔插

#### IDE接口

• 也称作并行ATA（Parallel ATA）

• ICH有2个IDE通道，每个通道上可以连接2个IDE设备（如硬盘、光驱等），其中一个为主设备（Master），另一个为从设备（Master）

• 已经被SATA接口所取代

#### SATA

• Serial ATA

• 采用串行方式传输数据，只需要7芯电缆就能连接主板和硬盘。结构简单，支持热插拔，数据传输可靠性高，传输的速度达到600MB/s甚至更高

#### 机箱连接线

• 用来连接主板和机箱面板

• 计算机状态指示以及外延主板开关和接口

• 一般黑色/白色为负，其他颜色为正

#### 外部接口

• 主要包括用于操作控制、音视频输入/输出、网络接入、外置存储接入等接口

#### PS/2接口

• 来源于Personal 2，IBM个人电脑

• 用于鼠标、键盘等设备的输入装置接口，不是传输接口

• 只有采样率，没有传输速率

• 一般情况下，PS/2接口的鼠标为绿色，键盘为紫色

#### VGA、DVI和HDMI接口

• VGA是传输模拟信号，DVI和HDMI传输数字信号。后两者传输数字信号的抗干扰性和传输稳定性比VGA好。与DVI相比，HDMI主要优势是能够同时传输音频数据，在视频数据的传输上没有差别

#### USB接口

• 1996年Intel牵头推出

• 是连接计算机系统与外部设备的一种串口总线标准，也是一种输入输出接口的技术规范

• 目前为3.0版本，传输速度达到4.8Gbps

• 已取代原有的串口和并口

#### e-SATA接口

• 扩展的SATA接口

• 让外部I/O接口使用SATA功能

• 并不是一种独立的外部接口技术标准

• 拥有e-SATA接口的电脑，可以把SATA设备直接从外部连接到系统当中，而不用打开机箱。

## Chapter 2 微处理器管理模式

## Chapter 3 指令系统

## Chapter 4 汇编语言程序开发



## Chapter 5 子程序设计

## Chapter 6 存储系统与技术

## Chapter 7 总线技术

## Chapter 8 接口技术

## Chapter 9 中断技术

